{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/zarp/YOUSEF/TECHNOVA-website/lib/user-store.ts"],"sourcesContent":["import { FAKE_CREDENTIALS } from \"./auth\"\r\n\r\nexport type User = {\r\n    id: string\r\n    name: string\r\n    email: string\r\n    password: string // In a real app, this should be hashed\r\n    role: \"admin\" | \"user\"\r\n    phone?: string\r\n    image?: string\r\n}\r\n\r\n// Initial admin user\r\nconst initialUsers: User[] = [\r\n    {\r\n        id: \"1\",\r\n        name: \"Admin User\",\r\n        email: FAKE_CREDENTIALS.email,\r\n        password: FAKE_CREDENTIALS.password,\r\n        role: \"admin\",\r\n        phone: \"123-456-7890\",\r\n        image: \"\",\r\n    },\r\n]\r\n\r\n// Global variable to store users in memory (server-side)\r\n// Note: This will reset on server restart/rebuild\r\nlet users: User[] = [...initialUsers]\r\n\r\nexport const userStore = {\r\n    getAll: () => users,\r\n\r\n    getByEmail: (email: string) => users.find((u) => u.email === email),\r\n\r\n    getById: (id: string) => users.find((u) => u.id === id),\r\n\r\n    add: (user: Omit<User, \"id\">) => {\r\n        const newUser = { ...user, id: Math.random().toString(36).substr(2, 9) }\r\n        users.push(newUser)\r\n        return newUser\r\n    },\r\n\r\n    update: (id: string, data: Partial<User>) => {\r\n        users = users.map((u) => (u.id === id ? { ...u, ...data } : u))\r\n        return users.find((u) => u.id === id)\r\n    },\r\n\r\n    delete: (id: string) => {\r\n        users = users.filter((u) => u.id !== id)\r\n    },\r\n\r\n    verifyCredentials: (email: string, password: string) => {\r\n        const user = users.find((u) => u.email === email && u.password === password)\r\n        if (user) {\r\n            const { password, ...userWithoutPassword } = user\r\n            return userWithoutPassword\r\n        }\r\n        return null\r\n    },\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAYA,qBAAqB;AACrB,MAAM,eAAuB;IACzB;QACI,IAAI;QACJ,MAAM;QACN,OAAO,+HAAgB,CAAC,KAAK;QAC7B,UAAU,+HAAgB,CAAC,QAAQ;QACnC,MAAM;QACN,OAAO;QACP,OAAO;IACX;CACH;AAED,yDAAyD;AACzD,kDAAkD;AAClD,IAAI,QAAgB;OAAI;CAAa;AAE9B,MAAM,YAAY;IACrB,QAAQ,IAAM;IAEd,YAAY,CAAC,QAAkB,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,KAAK;IAE7D,SAAS,CAAC,KAAe,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAEpD,KAAK,CAAC;QACF,MAAM,UAAU;YAAE,GAAG,IAAI;YAAE,IAAI,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;QAAG;QACvE,MAAM,IAAI,CAAC;QACX,OAAO;IACX;IAEA,QAAQ,CAAC,IAAY;QACjB,QAAQ,MAAM,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,KAAK;gBAAE,GAAG,CAAC;gBAAE,GAAG,IAAI;YAAC,IAAI;QAC5D,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACtC;IAEA,QAAQ,CAAC;QACL,QAAQ,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACzC;IAEA,mBAAmB,CAAC,OAAe;QAC/B,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,KAAK,SAAS,EAAE,QAAQ,KAAK;QACnE,IAAI,MAAM;YACN,MAAM,EAAE,QAAQ,EAAE,GAAG,qBAAqB,GAAG;YAC7C,OAAO;QACX;QACA,OAAO;IACX;AACJ"}}]
}